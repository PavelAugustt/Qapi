2025-11-08 18:59:20,244 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-08 18:59:20,245 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-11-08 18:59:20,250 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 18:59:21,481 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 18:59:21,485 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 18:59:28,428 ERROR app Thread-6 (process_request_thread) : An error occurred during agent execution.
Traceback (most recent call last):
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\rules\message.py", line 36, in to_proto
    return self._descriptor(**value)
           ~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\protobuf\internal\well_known_types.py", line 561, in _internal_assign
    self.update(dictionary)
    ~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\protobuf\internal\well_known_types.py", line 601, in update
    for key, value in dictionary.items():
                      ^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'items'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shrid\Desktop\Projects\Qapi\server\app.py", line 108, in instruct_llm
    response = agent_execute(user_prompt)
  File "C:\Users\shrid\Desktop\Projects\Qapi\server\app.py", line 166, in agent_execute
    response = chat.send_message(
        [{"function_response": {"name": function_name, "response": result}}]
    )
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 564, in send_message
    content = content_types.to_content(content)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\types\content_types.py", line 296, in to_content
    return protos.Content(parts=[to_part(part) for part in content])
                                 ~~~~~~~^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\types\content_types.py", line 247, in to_part
    part = _convert_dict(part)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\types\content_types.py", line 171, in _convert_dict
    return protos.Part(part)
           ~~~~~~~~~~~^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\message.py", line 728, in __init__
    pb_value = marshal.to_proto(pb_type, value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\marshal.py", line 235, in to_proto
    pb_value = self.get_rule(proto_type=proto_type).to_proto(value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\rules\message.py", line 46, in to_proto
    return self._wrapper(value)._pb
           ~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\message.py", line 728, in __init__
    pb_value = marshal.to_proto(pb_type, value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\marshal.py", line 235, in to_proto
    pb_value = self.get_rule(proto_type=proto_type).to_proto(value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\rules\struct.py", line 140, in to_proto
    k: self._marshal.to_proto(struct_pb2.Value, v) for k, v in value.items()
                                                               ^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'items'
2025-11-08 18:59:28,431 INFO werkzeug Thread-6 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 18:59:28] "[35m[1mPOST /instruct HTTP/1.1[0m" 500 -
2025-11-08 19:02:03,345 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:02:03,348 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:02:06,016 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:02:07,201 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:02:07,204 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:02:14,066 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-08 19:02:14,066 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-11-08 19:02:14,071 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:02:15,248 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:02:15,251 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:02:19,643 ERROR app Thread-6 (process_request_thread) : An error occurred during agent execution.
Traceback (most recent call last):
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\rules\message.py", line 36, in to_proto
    return self._descriptor(**value)
           ~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\protobuf\internal\well_known_types.py", line 561, in _internal_assign
    self.update(dictionary)
    ~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\protobuf\internal\well_known_types.py", line 601, in update
    for key, value in dictionary.items():
                      ^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'items'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shrid\Desktop\Projects\Qapi\server\app.py", line 108, in instruct_llm
    response = agent_execute(user_prompt)
  File "C:\Users\shrid\Desktop\Projects\Qapi\server\app.py", line 169, in agent_execute
    response = chat.send_message(
        [{"function_response": {"name": function_name, "response": result}}]
    )
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 564, in send_message
    content = content_types.to_content(content)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\types\content_types.py", line 296, in to_content
    return protos.Content(parts=[to_part(part) for part in content])
                                 ~~~~~~~^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\types\content_types.py", line 247, in to_part
    part = _convert_dict(part)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\types\content_types.py", line 171, in _convert_dict
    return protos.Part(part)
           ~~~~~~~~~~~^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\message.py", line 728, in __init__
    pb_value = marshal.to_proto(pb_type, value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\marshal.py", line 235, in to_proto
    pb_value = self.get_rule(proto_type=proto_type).to_proto(value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\rules\message.py", line 46, in to_proto
    return self._wrapper(value)._pb
           ~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\message.py", line 728, in __init__
    pb_value = marshal.to_proto(pb_type, value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\marshal.py", line 235, in to_proto
    pb_value = self.get_rule(proto_type=proto_type).to_proto(value)
  File "C:\Users\shrid\AppData\Local\Programs\Python\Python313\Lib\site-packages\proto\marshal\rules\struct.py", line 140, in to_proto
    k: self._marshal.to_proto(struct_pb2.Value, v) for k, v in value.items()
                                                               ^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'items'
2025-11-08 19:02:19,647 INFO werkzeug Thread-6 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:02:19] "[35m[1mPOST /instruct HTTP/1.1[0m" 500 -
2025-11-08 19:02:55,576 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:02:55,576 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:02:58,566 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:02:59,771 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:02:59,774 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:03:06,521 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-08 19:03:06,522 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-11-08 19:03:06,528 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:03:07,693 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:03:07,696 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:03:24,928 INFO werkzeug Thread-6 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:03:24] "POST /instruct HTTP/1.1" 200 -
2025-11-08 19:04:54,144 INFO werkzeug Thread-12 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:04:54] "POST /instruct HTTP/1.1" 200 -
2025-11-08 19:05:07,930 INFO werkzeug Thread-17 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:05:07] "POST /search HTTP/1.1" 200 -
2025-11-08 19:08:50,613 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\handlers.py', reloading
2025-11-08 19:08:50,614 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\handlers.py', reloading
2025-11-08 19:08:53,649 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:08:54,851 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:08:54,856 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:09:23,268 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:09:23,269 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:09:24,141 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:09:25,299 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:09:25,302 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:10:57,440 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-08 19:10:57,440 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-11-08 19:10:57,445 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:10:58,596 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:10:58,599 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
2025-11-08 19:11:27,463 INFO werkzeug Thread-6 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:11:27] "POST /instruct HTTP/1.1" 200 -
2025-11-08 19:11:40,224 INFO werkzeug Thread-10 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:11:40] "POST /instruct HTTP/1.1" 200 -
2025-11-08 19:11:51,620 INFO werkzeug Thread-13 (process_request_thread) : 127.0.0.1 - - [08/Nov/2025 19:11:51] "POST /instruct HTTP/1.1" 200 -
2025-11-08 19:12:38,994 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:12:38,997 INFO werkzeug Thread-1 :  * Detected change in 'C:\\Users\\shrid\\Desktop\\Projects\\Qapi\\server\\app.py', reloading
2025-11-08 19:12:42,018 INFO werkzeug MainThread :  * Restarting with watchdog (windowsapi)
2025-11-08 19:12:43,226 WARNING werkzeug MainThread :  * Debugger is active!
2025-11-08 19:12:43,229 INFO werkzeug MainThread :  * Debugger PIN: 100-528-215
